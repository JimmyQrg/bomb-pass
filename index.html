<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bomb Pass</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #000;
    font-family: 'Press Start 2P', cursive;
  }

  canvas {
    display: block;
    margin: 0 auto;
    image-rendering: pixelated;
  }

  #background {
    position: fixed;
    width: 100%;
    height: 100%;
    background: url("images/background.png") no-repeat center center;
    background-size: cover;
    z-index: 0;
  }

  .menu, .settings {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 2;
  }

  h1 {
    color: #fff;
    font-size: 18px;
    margin-bottom: 40px;
    text-shadow: 2px 2px #000;
  }

  .menu button, .settings button {
    display: block;
    margin: 10px auto;
    border: none;
    background: none;
    cursor: pointer;
    transition: transform 0.1s;
  }

  .menu button img, .settings button img {
    width: 180px;
  }

  .menu button:hover img {
    filter: brightness(1.2);
  }

  .menu button:active img {
    transform: scale(0.95);
  }

  .settings input {
    display: block;
    margin: 20px auto;
    padding: 8px;
    text-align: center;
    width: 120px;
    font-size: 12px;
    border: 2px solid #fff;
    background: #222;
    color: #fff;
  }

  #error {
    color: red;
    font-size: 10px;
    display: none;
  }

  #gameCanvas {
    display: none;
  }
</style>
</head>

<body>
  <div id="background"></div>

  <div id="menu" class="menu">
    <h1>BOMB PASS</h1>
    <button id="btn2"><img src="images/buttons/start-menu/button-2-players.png"></button>
    <button id="btn3"><img src="images/buttons/start-menu/button-3-players.png"></button>
    <button id="btn4"><img src="images/buttons/start-menu/button-4-players.png"></button>
  </div>

  <div id="settings" class="settings" style="display:none;">
    <h1>SET GAME TIME</h1>
    <input id="timeInput" type="number" placeholder="5â€“60 sec" min="5" max="60">
    <p id="error">Please enter a value between 5 and 60</p>
    <button id="startBtn">
      <img id="startImg" src="images/buttons/start-gray.png">
    </button>
  </div>

  <canvas id="gameCanvas" width="1280" height="720"></canvas>

<script>
  const menu = document.getElementById("menu");
  const settings = document.getElementById("settings");
  const startBtn = document.getElementById("startBtn");
  const startImg = document.getElementById("startImg");
  const timeInput = document.getElementById("timeInput");
  const error = document.getElementById("error");
  const canvas = document.getElementById("gameCanvas");
  const ctx = canvas.getContext("2d");

  let playerCount = 2;
  let timeLimit = 0;

  // Handle player select buttons
  document.getElementById("btn2").onclick = () => selectPlayers(2);
  document.getElementById("btn3").onclick = () => selectPlayers(3);
  document.getElementById("btn4").onclick = () => selectPlayers(4);

  function selectPlayers(count) {
    playerCount = count;
    menu.style.display = "none";
    settings.style.display = "block";
  }

  // Validate time input
  timeInput.addEventListener("input", () => {
    const val = parseInt(timeInput.value);
    if (val >= 5 && val <= 60) {
      startImg.src = "images/buttons/start.png";
      startBtn.disabled = false;
      error.style.display = "none";
    } else {
      startImg.src = "images/buttons/start-gray.png";
      startBtn.disabled = true;
      error.style.display = "block";
    }
  });

  // Handle start
  startBtn.onclick = () => {
    if (startBtn.disabled) return;
    timeLimit = parseInt(timeInput.value);
    settings.style.display = "none";
    document.getElementById("background").style.display = "none";
    canvas.style.display = "block";
    startGame();
  };

  // Placeholder for next part
  function startGame() {
    ctx.fillStyle = "#000";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "#fff";
    ctx.fillText("Game starting...", canvas.width/2 - 100, canvas.height/2);
  }
</script>
</body>
</html>
